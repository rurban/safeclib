<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>safec: safe_mem_constraint.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">safec<span id="projectnumber">&#160;3.8</span>
   </div>
   <div id="projectbrief">Safe C Library - ISO TR24731 Bounds Checking Interface</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('d6/da6/safe__mem__constraint_8c.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">safe_mem_constraint.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../d4/d81/safe__mem__constraint_8h.html">mem/safe_mem_constraint.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d8/d03/safe__mem__lib_8h.html">safe_mem_lib.h</a>&quot;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Include dependency graph for safe_mem_constraint.c:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../dc/d12/safe__mem__constraint_8c__incl.png" border="0" usemap="#asafe__mem__constraint_8c" alt=""/></div>
<map name="asafe__mem__constraint_8c" id="asafe__mem__constraint_8c">
<area shape="rect" title=" " alt="" coords="251,5,424,33"/>
<area shape="rect" href="../../d4/d81/safe__mem__constraint_8h.html" title=" " alt="" coords="160,81,372,109"/>
<area shape="poly" title=" " alt="" coords="327,35,291,72,287,68,323,32"/>
<area shape="rect" href="../../d8/d03/safe__mem__lib_8h.html" title=" " alt="" coords="275,157,400,184"/>
<area shape="poly" title=" " alt="" coords="354,32,372,53,387,80,389,98,384,116,365,147,360,144,380,114,384,98,382,82,368,56,350,35"/>
<area shape="poly" title=" " alt="" coords="280,107,316,144,312,147,277,111"/>
<area shape="rect" href="../../d3/ddb/safe__config_8h.html" title=" " alt="" coords="5,232,113,260"/>
<area shape="poly" title=" " alt="" coords="289,187,124,231,122,225,287,182"/>
<area shape="rect" href="../../d0/dc2/safe__lib__errno_8h.html" title=" " alt="" coords="136,232,262,260"/>
<area shape="poly" title=" " alt="" coords="314,187,238,227,236,222,312,183"/>
<area shape="rect" href="../../dd/d0a/safe__types_8h.html" title=" " alt="" coords="286,232,390,260"/>
<area shape="poly" title=" " alt="" coords="340,185,340,217,335,217,335,185"/>
<area shape="rect" href="../../df/d0a/safe__compile_8h.html" title=" " alt="" coords="414,232,534,260"/>
<area shape="poly" title=" " alt="" coords="363,183,437,222,435,227,361,187"/>
<area shape="rect" title=" " alt="" coords="558,232,629,260"/>
<area shape="poly" title=" " alt="" coords="384,182,544,228,542,233,383,187"/>
<area shape="rect" title=" " alt="" coords="109,308,177,336"/>
<area shape="poly" title=" " alt="" coords="191,262,164,297,160,294,187,259"/>
<area shape="poly" title=" " alt="" coords="304,263,192,305,190,300,302,258"/>
<area shape="rect" title=" " alt="" coords="201,308,266,336"/>
<area shape="poly" title=" " alt="" coords="321,263,266,301,263,297,318,258"/>
<area shape="rect" title=" " alt="" coords="290,308,385,336"/>
<area shape="poly" title=" " alt="" coords="340,261,340,292,335,292,335,261"/>
<area shape="rect" title=" " alt="" coords="409,308,496,336"/>
<area shape="poly" title=" " alt="" coords="360,258,421,297,418,302,357,263"/>
<area shape="rect" title=" " alt="" coords="520,308,590,336"/>
<area shape="poly" title=" " alt="" coords="377,258,506,301,504,306,376,263"/>
<area shape="rect" title=" " alt="" coords="614,308,696,336"/>
<area shape="poly" title=" " alt="" coords="391,257,600,305,599,310,390,262"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aab44e36c5f5fa57c90b45941d9c83d13" id="r_aab44e36c5f5fa57c90b45941d9c83d13"><td class="memItemLeft" align="right" valign="top">EXPORT <a class="el" href="../../df/d0a/safe__compile_8h.html#a94a54e98967ccb6be4bb4ad7e39fc290">constraint_handler_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aab44e36c5f5fa57c90b45941d9c83d13">set_mem_constraint_handler_s</a> (<a class="el" href="../../df/d0a/safe__compile_8h.html#a94a54e98967ccb6be4bb4ad7e39fc290">constraint_handler_t</a> handler)</td></tr>
<tr class="memdesc:aab44e36c5f5fa57c90b45941d9c83d13"><td class="mdescLeft">&#160;</td><td class="mdescRight">The set_mem_constraint_handler_s function sets the runtime-constraint handler to be handler.  <br /></td></tr>
<tr class="separator:aab44e36c5f5fa57c90b45941d9c83d13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acad51e385afc39d951208a9dafa4b49a" id="r_acad51e385afc39d951208a9dafa4b49a"><td class="memItemLeft" align="right" valign="top">EXPORT <a class="el" href="../../df/d0a/safe__compile_8h.html#a94a54e98967ccb6be4bb4ad7e39fc290">constraint_handler_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acad51e385afc39d951208a9dafa4b49a">thrd_set_mem_constraint_handler_s</a> (<a class="el" href="../../df/d0a/safe__compile_8h.html#a94a54e98967ccb6be4bb4ad7e39fc290">constraint_handler_t</a> handler)</td></tr>
<tr class="memdesc:acad51e385afc39d951208a9dafa4b49a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The thrd_set_mem_constraint_handler_s function sets the runtime-constraint handler to a thread-local handler.  <br /></td></tr>
<tr class="separator:acad51e385afc39d951208a9dafa4b49a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add0276a6e71652719dde97fbf8e5a7b6" id="r_add0276a6e71652719dde97fbf8e5a7b6"><td class="memItemLeft" align="right" valign="top">EXPORT void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#add0276a6e71652719dde97fbf8e5a7b6">invoke_safe_mem_constraint_handler</a> (const char *msg, void *ptr, <a class="el" href="../../dd/d0a/safe__types_8h.html#a46a037236862ac1a534efbe605c10f42">errno_t</a> error)</td></tr>
<tr class="memdesc:add0276a6e71652719dde97fbf8e5a7b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invokes the currently set thread-safe or not constraint handler or the default.  <br /></td></tr>
<tr class="separator:add0276a6e71652719dde97fbf8e5a7b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75372f7a37577fa4e56281c776c6b8b9" id="r_a75372f7a37577fa4e56281c776c6b8b9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a75372f7a37577fa4e56281c776c6b8b9">handle_mem_bos_chk_warn</a> (const char *restrict func, void *restrict <a class="el" href="../../d8/dff/safe__str__lib_8h.html#acfdd60d33960997bd9baa61ae6e75931">dest</a>, const <a class="el" href="../../dd/d0a/safe__types_8h.html#a648363f66636da630ae2caff1778b0f4">rsize_t</a> <a class="el" href="../../db/d69/safe__lib_8h.html#a50de24e4d2a52cf7059349b3197cb89c">dmax</a>, const size_t destbos)</td></tr>
<tr class="separator:a75372f7a37577fa4e56281c776c6b8b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab1ec2132768517b05afb865bbf41a19e" id="r_ab1ec2132768517b05afb865bbf41a19e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../df/d0a/safe__compile_8h.html#a94a54e98967ccb6be4bb4ad7e39fc290">constraint_handler_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab1ec2132768517b05afb865bbf41a19e">mem_handler</a></td></tr>
<tr class="separator:ab1ec2132768517b05afb865bbf41a19e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3df5f623dbbcae711b8a579773dd7bf5" id="r_a3df5f623dbbcae711b8a579773dd7bf5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../df/d0a/safe__compile_8h.html#a94a54e98967ccb6be4bb4ad7e39fc290">constraint_handler_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3df5f623dbbcae711b8a579773dd7bf5">thrd_mem_handler</a></td></tr>
<tr class="separator:a3df5f623dbbcae711b8a579773dd7bf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="aab44e36c5f5fa57c90b45941d9c83d13" name="aab44e36c5f5fa57c90b45941d9c83d13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab44e36c5f5fa57c90b45941d9c83d13">&#9670;&#160;</a></span>set_mem_constraint_handler_s()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT <a class="el" href="../../df/d0a/safe__compile_8h.html#a94a54e98967ccb6be4bb4ad7e39fc290">constraint_handler_t</a> set_mem_constraint_handler_s </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d0a/safe__compile_8h.html#a94a54e98967ccb6be4bb4ad7e39fc290">constraint_handler_t</a></td>          <td class="paramname"><span class="paramname"><em>handler</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The set_mem_constraint_handler_s function sets the runtime-constraint handler to be handler. </p>
<p>The runtime-constraint handler is the function to be called when a library function detects a runtime-constraint order:</p><ol type="1">
<li>A pointer to a character string describing the runtime-constraint violation.</li>
<li>A null pointer or a pointer to an implementation defined object.</li>
<li>If the function calling the handler has a return type declared as errno_t, the return value of the function is passed. Otherwise, a positive value of type errno_t is passed. The implementation has a default constraint handler that is used if no calls to the set_constraint_handler_s function have been made. The behavior of the default handler is implementation-defined, and it may cause the program to exit or abort. If the handler argument to set_constraint_handler_s is a null pointer, the implementation default handler becomes the current constraint handler.</li>
</ol>
<dl class="section remark"><dt>Remarks</dt><dd>SPECIFIED IN ISO/IEC JTC1 SC22 WG14 N1172, Programming languages, environments and system software interfaces, Extensions to the C Library, Part I: Bounds-checking interfaces</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d1/d53/safe__str__constraint_8c.html#a596833872de6fd62a0e7f013bab34cb2" title="The set_str_constraint_handler_s function sets the runtime-constraint handler to be handler.">set_str_constraint_handler_s()</a> </dd></dl>

</div>
</div>
<a id="acad51e385afc39d951208a9dafa4b49a" name="acad51e385afc39d951208a9dafa4b49a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acad51e385afc39d951208a9dafa4b49a">&#9670;&#160;</a></span>thrd_set_mem_constraint_handler_s()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT <a class="el" href="../../df/d0a/safe__compile_8h.html#a94a54e98967ccb6be4bb4ad7e39fc290">constraint_handler_t</a> thrd_set_mem_constraint_handler_s </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d0a/safe__compile_8h.html#a94a54e98967ccb6be4bb4ad7e39fc290">constraint_handler_t</a></td>          <td class="paramname"><span class="paramname"><em>handler</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The thrd_set_mem_constraint_handler_s function sets the runtime-constraint handler to a thread-local handler. </p>
<p>The thrd_set_mem_constraint_handler_s function behaves the same way as the set_mem_constraint_handler_s function except that it sets the runtime-constraint handler to the handler only for the calling thread and for any threads that are yet to be created by the calling thread. The function has no effect on other threads in the program. The remaining effects of the two functions are identical, as are their return values.</p>
<dl class="section remark"><dt>Remarks</dt><dd>SPECIFIED IN ISO/IEC JTC1 SC22 WG14 N2809 <a href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/n2809.pdf">https://www.open-std.org/jtc1/sc22/wg14/www/docs/n2809.pdf</a></dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d1/d53/safe__str__constraint_8c.html#a2353fd515be3d98762f2f356782f9f9c" title="The thrd_set_str_constraint_handler_s function sets the runtime-constraint handler to a thread-local ...">thrd_set_str_constraint_handler_s()</a> </dd></dl>

</div>
</div>
<a id="add0276a6e71652719dde97fbf8e5a7b6" name="add0276a6e71652719dde97fbf8e5a7b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add0276a6e71652719dde97fbf8e5a7b6">&#9670;&#160;</a></span>invoke_safe_mem_constraint_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT void invoke_safe_mem_constraint_handler </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>msg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>ptr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d0a/safe__types_8h.html#a46a037236862ac1a534efbe605c10f42">errno_t</a></td>          <td class="paramname"><span class="paramname"><em>error</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Invokes the currently set thread-safe or not constraint handler or the default. </p>
<p>Can be disabled via <code>--disable-constraint-handler</code> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*msg</td><td>Pointer to the message describing the error. </td></tr>
    <tr><td class="paramname">*ptr</td><td>Pointer to associated data. Can be NULL. </td></tr>
    <tr><td class="paramname">error</td><td>The error code encountered. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a75372f7a37577fa4e56281c776c6b8b9" name="a75372f7a37577fa4e56281c776c6b8b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75372f7a37577fa4e56281c776c6b8b9">&#9670;&#160;</a></span>handle_mem_bos_chk_warn()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void handle_mem_bos_chk_warn </td>
          <td>(</td>
          <td class="paramtype">const char *restrict</td>          <td class="paramname"><span class="paramname"><em>func</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *restrict</td>          <td class="paramname"><span class="paramname"><em>dest</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../dd/d0a/safe__types_8h.html#a648363f66636da630ae2caff1778b0f4">rsize_t</a></td>          <td class="paramname"><span class="paramname"><em>dmax</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t</td>          <td class="paramname"><span class="paramname"><em>destbos</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ab1ec2132768517b05afb865bbf41a19e" name="ab1ec2132768517b05afb865bbf41a19e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1ec2132768517b05afb865bbf41a19e">&#9670;&#160;</a></span>mem_handler</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d0a/safe__compile_8h.html#a94a54e98967ccb6be4bb4ad7e39fc290">constraint_handler_t</a> mem_handler</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    NULL</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3df5f623dbbcae711b8a579773dd7bf5" name="a3df5f623dbbcae711b8a579773dd7bf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3df5f623dbbcae711b8a579773dd7bf5">&#9670;&#160;</a></span>thrd_mem_handler</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d0a/safe__compile_8h.html#a94a54e98967ccb6be4bb4ad7e39fc290">constraint_handler_t</a> thrd_mem_handler</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    NULL</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<hr class="footer"/><address class="footer"><small>
Generated for Safe C Library 3.8.2 3.8
by <a href="http://www.doxygen.org/index.html">doxygen</a>
</small></address></body></html>
